<section class="container container-fluid mt-5">

  <div class="row mt-4">
    {{! new blogpost }}
    <input
      type="button"
      value="+ New Blogpost"
      class="btnNew btn-info btn-new-blogpost"
      id="newBlogpostBtn"
    />
    {{! all posts }}
    <div class="col-md-12 blogpost-list">
      <h2>Posts:</h2>
      {{#if blogposts.length}}
        {{#each blogposts as |blogpost index|}}

          <div class="row mb-2 blogpost-list-card">
            <div class="col-md-10">
              <h4><a
                  href="/blogpost?blogpostId={{blogpost.id}}"
                >{{blogpost.blog_title}}</a></h4>
            </div>

            {{! Update button }}
            <button class="BtnUpdate" data-id="{{index}}">
              <div data-id="{{index}}" class="text">Update</div>
            </button>

            <button
              class="BtnDel"
              id="deleteButtonId"
              data-id="{{blogpost.id}}"
            >
              <div class="text">Delete</div>
            </button>

          </div>

          {{! update container }}

          <div class="update-container hidden" id="updateContainer">
            <h2>Update</h2>
            <input
              class="hidden"
              name="blogpost-id"
              id="blogpost-id"
              value="{{blogpost.id}}"
            />
            <form class="form new-update-form">
              <div class="form-group">
                <label for="update-title">Title: </label>
                <input
                  class="form-input"
                  type="text"
                  id="update-title"
                  name="update-title"
                  value="{{blog_title}}"
                />
              </div>
              <div class="form-group">
                <label for="update-content">Content:</label>
                <input
                  rows="4"
                  class="form-input"
                  id="update-content"
                  name="post-content"
                  value="{{blog_post}}"
                />
              </div>
              <div class="form-group">
                <button
                  type="submit"
                  class="btn btn-primary submitUpdate submitBtn"
                >Submit</button>
                <a
                  type="button"
                  href="/profile"
                  id="cancel-form"
                  class="btn btn-secondary cancelBtn"
                >Cancel</a>
              </div>
            </form>
          </div>

        {{/each}}
      {{else}}
        <p>You have none! Click below to create a post.</p>

      {{/if}}
    </div>
  </div>

  {{! form for creating blogpost }}
  <div class="form-container hidden">
    <h3>Create a New Post:</h3>
    <form class="form new-blogpost-form">
      <div class="form-group">
        <label for="blog_title">Title:</label>
        <input
          class="form-input"
          type="text"
          id="blog_title"
          name="blog_title"
        />
      </div>

      <div class="form-group">
        <label for="blog_post">Content:</label>
        <textarea
          rows="4"
          class="form-input"
          id="blog_post"
          name="blog_post"
        ></textarea>
      </div>

      <div class="form-group">
        <button type="submit" class="btn btn-primary submitBtn">Submit</button>

        <button
          type="button"
          id="cancel-form"
          class="btn btn-secondary cancelBtn"
        >Cancel</button>

      </div>
    </form>
  </div>

</section>

<script src="./js/profile.js"></script>
<script src="./js/update.js"></script>